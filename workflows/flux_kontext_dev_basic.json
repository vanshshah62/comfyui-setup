{
  "id": "7cbcec68-7fa6-47bb-a38a-da689949a001",
  "revision": 0,
  "last_node_id": 214,
  "last_link_id": 362,
  "nodes": [
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        -819.5589599609375,
        -482.9543151855469
      ],
      "size": [
        400,
        220
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 343
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            360,
            361
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "\"Show the front view of the character walking toward the entrance of the snowy cave, seen from a distance. Keep the same hairstyle, facial features, body proportions, markings, clothing, and weapon unchanged. The camera is positioned far away, capturing the wide snowy environment with the character approaching and entering the cave.\""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 190,
      "type": "FluxResolutionNode",
      "pos": [
        -800.6134033203125,
        -743.4288940429688
      ],
      "size": [
        274.724609375,
        214
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            297
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            298
          ]
        },
        {
          "name": "resolution",
          "type": "STRING",
          "links": null
        },
        {
          "name": "preview",
          "type": "IMAGE",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "controlaltai-nodes",
        "ver": "721492b66c9cede8ae23ae10615462ad80cfd061",
        "Node name for S&R": "FluxResolutionNode"
      },
      "widgets_values": [
        "1.0",
        "16:9 (Panorama)",
        "64",
        false,
        "1:1"
      ]
    },
    {
      "id": 188,
      "type": "EmptySD3LatentImage",
      "pos": [
        -498.83331298828125,
        -738.8268432617188
      ],
      "size": [
        310,
        106
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 297
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 298
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            362
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 173,
      "type": "PreviewImage",
      "pos": [
        -830.8233642578125,
        678.2167358398438
      ],
      "size": [
        434.093505859375,
        286.17767333984375
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 351
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 196,
      "type": "UpscaleModelLoader",
      "pos": [
        1835.9810791015625,
        -387.4515380859375
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 2,
      "inputs": [],
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            314
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.51",
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "RealESRGAN_x4plus.pth"
      ]
    },
    {
      "id": 197,
      "type": "ImageUpscaleWithModel",
      "pos": [
        2129.379638671875,
        -382.39013671875
      ],
      "size": [
        221.98202514648438,
        46
      ],
      "flags": {},
      "order": 11,
      "mode": 2,
      "inputs": [
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 314
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 357
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            318
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.51",
        "Node name for S&R": "ImageUpscaleWithModel"
      }
    },
    {
      "id": 201,
      "type": "ImageScaleBy",
      "pos": [
        2369.068115234375,
        -391.408935546875
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 15,
      "mode": 2,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 318
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            316
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.51",
        "Node name for S&R": "ImageScaleBy"
      },
      "widgets_values": [
        "nearest-exact",
        0.5
      ]
    },
    {
      "id": 198,
      "type": "VAEDecode",
      "pos": [
        1848.0706787109375,
        -282.3586730957031
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 12,
      "mode": 2,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 315
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 346
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            317
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.52",
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 199,
      "type": "VAEEncode",
      "pos": [
        1836.4403076171875,
        -164.05996704101562
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 13,
      "mode": 2,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 316
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 347
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            319
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.52",
        "Node name for S&R": "VAEEncode"
      }
    },
    {
      "id": 202,
      "type": "KSampler",
      "pos": [
        2012.6458740234375,
        -270.2904968261719
      ],
      "size": [
        383.0083923339844,
        391.2025146484375
      ],
      "flags": {},
      "order": 16,
      "mode": 2,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 349
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 355
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 353
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 319
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            315
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        354396066739201,
        "randomize",
        15,
        1,
        "dpmpp_2m",
        "karras",
        0.85
      ]
    },
    {
      "id": 214,
      "type": "workflow>Image Generation",
      "pos": [
        -18.624956130981445,
        -485.5752868652344
      ],
      "size": [
        427.1484375,
        610
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 358
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 359
        },
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 360
        },
        {
          "name": "ReferenceLatent conditioning",
          "type": "CONDITIONING",
          "link": 361
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 362
        }
      ],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            343
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            346,
            347
          ]
        },
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            349
          ]
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            351
          ]
        },
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            353
          ]
        },
        {
          "name": "FluxGuidance CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            355
          ]
        },
        {
          "name": "VAEDecode IMAGE",
          "type": "IMAGE",
          "links": [
            356,
            357
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "workflow>Image Generation"
      },
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp16.safetensors",
        "flux",
        "default",
        "ae.safetensors",
        "flux1-dev-kontext_fp8_scaled.safetensors",
        "default",
        "right",
        false,
        0,
        "white",
        2.5,
        651099620020204,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 194,
      "type": "PreviewImage",
      "pos": [
        452.1445007324219,
        -195.6898956298828
      ],
      "size": [
        889.7944946289062,
        666.8053588867188
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 356
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.52",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 200,
      "type": "SaveImage",
      "pos": [
        2399.771728515625,
        -267.4176025390625
      ],
      "size": [
        828.888671875,
        685.930908203125
      ],
      "flags": {},
      "order": 14,
      "mode": 2,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 317
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.52"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 142,
      "type": "LoadImageOutput",
      "pos": [
        -830.55078125,
        -201.658935546875
      ],
      "size": [
        320,
        374
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            358
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "LoadImageOutput"
      },
      "widgets_values": [
        "ComfyUI_00010_.png [output]",
        false,
        "refresh",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 147,
      "type": "LoadImageOutput",
      "pos": [
        -824.1240234375,
        235.72491455078125
      ],
      "size": [
        320,
        374
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            359
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            301
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "LoadImageOutput"
      },
      "widgets_values": [
        "ComfyUI_00010_.png [output]",
        false,
        "refresh",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 193,
      "type": "Fast Bypasser (rgthree)",
      "pos": [
        -1197.4090576171875,
        141.44627380371094
      ],
      "size": [
        307.167724609375,
        78
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "Load Image (from Outputs)",
          "type": "*",
          "link": 301
        },
        {
          "dir": 3,
          "name": "",
          "type": "*",
          "link": null
        }
      ],
      "outputs": [
        {
          "dir": 4,
          "name": "OPT_CONNECTION",
          "type": "*",
          "links": null
        }
      ],
      "properties": {
        "toggleRestriction": "default"
      }
    },
    {
      "id": 203,
      "type": "Fast Groups Muter (rgthree)",
      "pos": [
        1453.1881103515625,
        -5.283609390258789
      ],
      "size": [
        305.6782531738281,
        65.14722442626953
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "links": null
        }
      ],
      "properties": {
        "matchColors": "",
        "matchTitle": "",
        "showNav": true,
        "showAllGraphs": true,
        "sort": "position",
        "customSortAlphabet": "",
        "toggleRestriction": "default"
      }
    },
    {
      "id": 186,
      "type": "MarkdownNote",
      "pos": [
        -1418.7325439453125,
        -725.869140625
      ],
      "size": [
        519.2330932617188,
        482.3179016113281
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Flux Kontext Prompt Techniques",
      "properties": {},
      "widgets_values": [
        "You are creating a prompt for Flux Kontext. \nFlux Kontext takes one base image (mandatory) and one reference image (optional).\n\nAlways follow this structure:\n\nFormula:\n\"Change [specific element in the base image] to [new state/style/background/pose], \nwhile keeping [important features to preserve such as facial features, hairstyle, body type, scars, ornaments, clothing] unchanged.  \nIf a reference image is provided, borrow its [style/background/pose/lighting/etc.], \nbut preserve [identity and composition] from the base image.\"\n\nRules:\n1. Be very specific — describe the character with exact details (e.g., \"muscular sadhu with sacred ash and matted hair\").\n2. Explicitly state what to preserve (facial features, clothing, scale, body proportions).\n3. For **pose changes**, use clear actions:\n   - \"Change the pose to standing with weapon raised\"\n   - \"Change the pose to walking out of a cave\"\n   - \"Change the pose to sitting in meditation\"\n4. Break complex edits into multiple steps (background first, then pose, then style).\n5. Use precise verbs like \"change\", \"replace\", \"convert\".\n6. If text editing → \"Replace '[old text]' with '[new text]', keep same font style and placement.\"\n7. If background change → \"Change background to [X], keep subject in exact same position, scale, and expression.\"\n8. If style transfer → \"Convert to [specific style] with [style characteristics], while keeping the same composition and character identity.\"\n9. For consistency across multiple images, always repeat the **exact same character description** in every prompt.\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    }
  ],
  "links": [
    [
      297,
      190,
      0,
      188,
      0,
      "INT"
    ],
    [
      298,
      190,
      1,
      188,
      1,
      "INT"
    ],
    [
      301,
      147,
      1,
      193,
      0,
      "*"
    ],
    [
      314,
      196,
      0,
      197,
      0,
      "UPSCALE_MODEL"
    ],
    [
      315,
      202,
      0,
      198,
      0,
      "LATENT"
    ],
    [
      316,
      201,
      0,
      199,
      0,
      "IMAGE"
    ],
    [
      317,
      198,
      0,
      200,
      0,
      "IMAGE"
    ],
    [
      318,
      197,
      0,
      201,
      0,
      "IMAGE"
    ],
    [
      319,
      199,
      0,
      202,
      3,
      "LATENT"
    ],
    [
      343,
      214,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      346,
      214,
      1,
      198,
      1,
      "VAE"
    ],
    [
      347,
      214,
      1,
      199,
      1,
      "VAE"
    ],
    [
      349,
      214,
      2,
      202,
      0,
      "MODEL"
    ],
    [
      351,
      214,
      3,
      173,
      0,
      "IMAGE"
    ],
    [
      353,
      214,
      4,
      202,
      2,
      "CONDITIONING"
    ],
    [
      355,
      214,
      5,
      202,
      1,
      "CONDITIONING"
    ],
    [
      356,
      214,
      6,
      194,
      0,
      "IMAGE"
    ],
    [
      357,
      214,
      6,
      197,
      1,
      "IMAGE"
    ],
    [
      358,
      142,
      0,
      214,
      0,
      "IMAGE"
    ],
    [
      359,
      147,
      0,
      214,
      1,
      "IMAGE"
    ],
    [
      360,
      6,
      0,
      214,
      2,
      "CONDITIONING"
    ],
    [
      361,
      6,
      0,
      214,
      3,
      "CONDITIONING"
    ],
    [
      362,
      188,
      0,
      214,
      4,
      "LATENT"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Upscale Image",
      "bounding": [
        1819.815185546875,
        -466.567138671875,
        1424.0233154296875,
        908.9983520507812
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.7400249944258677,
      "offset": [
        1907.3828361188457,
        1050.5671787713557
      ]
    },
    "frontendVersion": "1.25.11",
    "groupNodes": {
      "Image Generation": {
        "nodes": [
          {
            "id": -1,
            "type": "DualCLIPLoader",
            "pos": [
              -18.624956130981445,
              -266.3979187011719
            ],
            "size": [
              337.76861572265625,
              130
            ],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "clip_name1",
                "name": "clip_name1",
                "type": "COMBO",
                "widget": {
                  "name": "clip_name1"
                },
                "link": null
              },
              {
                "localized_name": "clip_name2",
                "name": "clip_name2",
                "type": "COMBO",
                "widget": {
                  "name": "clip_name2"
                },
                "link": null
              },
              {
                "localized_name": "type",
                "name": "type",
                "type": "COMBO",
                "widget": {
                  "name": "type"
                },
                "link": null
              },
              {
                "localized_name": "device",
                "name": "device",
                "shape": 7,
                "type": "COMBO",
                "widget": {
                  "name": "device"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "CLIP",
                "name": "CLIP",
                "type": "CLIP",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.38",
              "Node name for S&R": "DualCLIPLoader",
              "models": [
                {
                  "name": "clip_l.safetensors",
                  "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors",
                  "directory": "text_encoders"
                },
                {
                  "name": "t5xxl_fp8_e4m3fn_scaled.safetensors",
                  "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors",
                  "directory": "text_encoders"
                }
              ]
            },
            "widgets_values": [
              "clip_l.safetensors",
              "t5xxl_fp16.safetensors",
              "flux",
              "default"
            ],
            "color": "#322",
            "bgcolor": "#533",
            "index": 0
          },
          {
            "id": -1,
            "type": "VAELoader",
            "pos": [
              -13.914743423461914,
              -82.37943267822266
            ],
            "size": [
              337.76861572265625,
              58
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "vae_name",
                "name": "vae_name",
                "type": "COMBO",
                "widget": {
                  "name": "vae_name"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "VAE",
                "name": "VAE",
                "type": "VAE",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.38",
              "Node name for S&R": "VAELoader",
              "models": [
                {
                  "name": "ae.safetensors",
                  "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors",
                  "directory": "vae"
                }
              ]
            },
            "widgets_values": [
              "ae.safetensors"
            ],
            "color": "#322",
            "bgcolor": "#533",
            "index": 1
          },
          {
            "id": -1,
            "type": "UNETLoader",
            "pos": [
              -14.989786148071289,
              -392.9491271972656
            ],
            "size": [
              337.76861572265625,
              82
            ],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "unet_name",
                "name": "unet_name",
                "type": "COMBO",
                "widget": {
                  "name": "unet_name"
                },
                "link": null
              },
              {
                "localized_name": "weight_dtype",
                "name": "weight_dtype",
                "type": "COMBO",
                "widget": {
                  "name": "weight_dtype"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "MODEL",
                "name": "MODEL",
                "type": "MODEL",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.38",
              "Node name for S&R": "UNETLoader",
              "models": [
                {
                  "name": "flux1-dev-kontext_fp8_scaled.safetensors",
                  "url": "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
                  "directory": "diffusion_models"
                }
              ]
            },
            "widgets_values": [
              "flux1-dev-kontext_fp8_scaled.safetensors",
              "default"
            ],
            "color": "#322",
            "bgcolor": "#533",
            "index": 2
          },
          {
            "id": -1,
            "type": "ImageStitch",
            "pos": [
              -9.434122085571289,
              22.908218383789062
            ],
            "size": [
              332.25238037109375,
              150
            ],
            "flags": {},
            "order": 10,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image1",
                "name": "image1",
                "type": "IMAGE",
                "link": null
              },
              {
                "localized_name": "image2",
                "name": "image2",
                "shape": 7,
                "type": "IMAGE",
                "link": null
              },
              {
                "localized_name": "direction",
                "name": "direction",
                "type": "COMBO",
                "widget": {
                  "name": "direction"
                },
                "link": null
              },
              {
                "localized_name": "match_image_size",
                "name": "match_image_size",
                "type": "BOOLEAN",
                "widget": {
                  "name": "match_image_size"
                },
                "link": null
              },
              {
                "localized_name": "spacing_width",
                "name": "spacing_width",
                "type": "INT",
                "widget": {
                  "name": "spacing_width"
                },
                "link": null
              },
              {
                "localized_name": "spacing_color",
                "name": "spacing_color",
                "type": "COMBO",
                "widget": {
                  "name": "spacing_color"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.40",
              "Node name for S&R": "ImageStitch"
            },
            "widgets_values": [
              "right",
              false,
              0,
              "white"
            ],
            "index": 3
          },
          {
            "id": -1,
            "type": "FluxKontextImageScale",
            "pos": [
              464.99676513671875,
              12.965826034545898
            ],
            "size": [
              237.28782653808594,
              26
            ],
            "flags": {
              "collapsed": false
            },
            "order": 13,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "image",
                "name": "image",
                "type": "IMAGE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.38",
              "Node name for S&R": "FluxKontextImageScale"
            },
            "index": 4
          },
          {
            "id": -1,
            "type": "ConditioningZeroOut",
            "pos": [
              443.4632568359375,
              -264.7895202636719
            ],
            "size": [
              240,
              26
            ],
            "flags": {
              "collapsed": false
            },
            "order": 14,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.39",
              "Node name for S&R": "ConditioningZeroOut"
            },
            "index": 5
          },
          {
            "id": -1,
            "type": "VAEEncode",
            "pos": [
              459.02703857421875,
              -86.4281234741211
            ],
            "size": [
              240,
              50
            ],
            "flags": {
              "collapsed": false
            },
            "order": 15,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "pixels",
                "name": "pixels",
                "type": "IMAGE",
                "link": null
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "LATENT",
                "name": "LATENT",
                "type": "LATENT",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.39",
              "Node name for S&R": "VAEEncode"
            },
            "index": 6
          },
          {
            "id": -1,
            "type": "ReferenceLatent",
            "pos": [
              447.88922119140625,
              -181.8531036376953
            ],
            "size": [
              243.79531860351562,
              46
            ],
            "flags": {},
            "order": 17,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": null
              },
              {
                "localized_name": "latent",
                "name": "latent",
                "shape": 7,
                "type": "LATENT",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.41",
              "Node name for S&R": "ReferenceLatent"
            },
            "index": 7
          },
          {
            "id": -1,
            "type": "FluxGuidance",
            "pos": [
              440.3974609375,
              -383.04473876953125
            ],
            "size": [
              240,
              58
            ],
            "flags": {
              "collapsed": false
            },
            "order": 18,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "conditioning",
                "name": "conditioning",
                "type": "CONDITIONING",
                "link": null
              },
              {
                "localized_name": "guidance",
                "name": "guidance",
                "type": "FLOAT",
                "widget": {
                  "name": "guidance"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "CONDITIONING",
                "name": "CONDITIONING",
                "type": "CONDITIONING",
                "slot_index": 0,
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.38",
              "Node name for S&R": "FluxGuidance"
            },
            "widgets_values": [
              2.5
            ],
            "index": 8
          },
          {
            "id": -1,
            "type": "KSampler",
            "pos": [
              776.4488525390625,
              -359.7749328613281
            ],
            "size": [
              320,
              262
            ],
            "flags": {},
            "order": 19,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "model",
                "name": "model",
                "type": "MODEL",
                "link": null
              },
              {
                "localized_name": "positive",
                "name": "positive",
                "type": "CONDITIONING",
                "link": null
              },
              {
                "localized_name": "negative",
                "name": "negative",
                "type": "CONDITIONING",
                "link": null
              },
              {
                "localized_name": "latent_image",
                "name": "latent_image",
                "type": "LATENT",
                "link": null
              },
              {
                "localized_name": "seed",
                "name": "seed",
                "type": "INT",
                "widget": {
                  "name": "seed"
                },
                "link": null
              },
              {
                "localized_name": "steps",
                "name": "steps",
                "type": "INT",
                "widget": {
                  "name": "steps"
                },
                "link": null
              },
              {
                "localized_name": "cfg",
                "name": "cfg",
                "type": "FLOAT",
                "widget": {
                  "name": "cfg"
                },
                "link": null
              },
              {
                "localized_name": "sampler_name",
                "name": "sampler_name",
                "type": "COMBO",
                "widget": {
                  "name": "sampler_name"
                },
                "link": null
              },
              {
                "localized_name": "scheduler",
                "name": "scheduler",
                "type": "COMBO",
                "widget": {
                  "name": "scheduler"
                },
                "link": null
              },
              {
                "localized_name": "denoise",
                "name": "denoise",
                "type": "FLOAT",
                "widget": {
                  "name": "denoise"
                },
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "LATENT",
                "name": "LATENT",
                "type": "LATENT",
                "slot_index": 0,
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.38",
              "Node name for S&R": "KSampler"
            },
            "widgets_values": [
              651099620020204,
              "randomize",
              20,
              1,
              "euler",
              "simple",
              1
            ],
            "index": 9
          },
          {
            "id": -1,
            "type": "VAEDecode",
            "pos": [
              472.0228271484375,
              -485.5752868652344
            ],
            "size": [
              190,
              46
            ],
            "flags": {
              "collapsed": false
            },
            "order": 20,
            "mode": 0,
            "inputs": [
              {
                "localized_name": "samples",
                "name": "samples",
                "type": "LATENT",
                "link": null
              },
              {
                "localized_name": "vae",
                "name": "vae",
                "type": "VAE",
                "link": null
              }
            ],
            "outputs": [
              {
                "localized_name": "IMAGE",
                "name": "IMAGE",
                "type": "IMAGE",
                "slot_index": 0,
                "links": []
              }
            ],
            "properties": {
              "cnr_id": "comfy-core",
              "ver": "0.3.38",
              "Node name for S&R": "VAEDecode"
            },
            "index": 10
          }
        ],
        "links": [
          [
            null,
            0,
            3,
            0,
            142,
            "IMAGE"
          ],
          [
            null,
            0,
            3,
            1,
            147,
            "IMAGE"
          ],
          [
            3,
            0,
            4,
            0,
            207,
            "IMAGE"
          ],
          [
            null,
            0,
            5,
            0,
            6,
            "CONDITIONING"
          ],
          [
            4,
            0,
            6,
            0,
            209,
            "IMAGE"
          ],
          [
            1,
            0,
            6,
            1,
            206,
            "VAE"
          ],
          [
            null,
            0,
            7,
            0,
            6,
            "CONDITIONING"
          ],
          [
            6,
            0,
            7,
            1,
            210,
            "LATENT"
          ],
          [
            7,
            0,
            8,
            0,
            211,
            "CONDITIONING"
          ],
          [
            2,
            0,
            9,
            0,
            204,
            "MODEL"
          ],
          [
            8,
            0,
            9,
            1,
            212,
            "CONDITIONING"
          ],
          [
            5,
            0,
            9,
            2,
            208,
            "CONDITIONING"
          ],
          [
            null,
            0,
            9,
            3,
            188,
            "LATENT"
          ],
          [
            9,
            0,
            10,
            0,
            213,
            "LATENT"
          ],
          [
            1,
            0,
            10,
            1,
            206,
            "VAE"
          ]
        ],
        "external": [
          [
            0,
            0,
            "CLIP"
          ],
          [
            1,
            0,
            "VAE"
          ],
          [
            2,
            0,
            "MODEL"
          ],
          [
            4,
            0,
            "IMAGE"
          ],
          [
            5,
            0,
            "CONDITIONING"
          ],
          [
            8,
            0,
            "CONDITIONING"
          ],
          [
            10,
            0,
            "IMAGE"
          ]
        ]
      }
    },
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}